#
# KITTY CONFIGURATION
#
# Author: Daniel Nordstrom <d@mrnordstrom.com>
# Repository: https://github.com/dnordstrom/dotfiles
#
# See:
#   - Overview: https://sw.kovidgoyal.net/kitty/overview/
#   - Options: https://sw.kovidgoyal.net/kitty/conf/
#   - Actions: https://sw.kovidgoyal.net/kitty/actions/
#   - Default: https://sw.kovidgoyal.net/kitty/_downloads/433dadebd0bf504f8b008985378086ce/kitty.conf
#

#
# APPEARANCE
#

include ./catppuccin.conf

cursor_blink_interval 0
cursor_shape block

font_family InputMonoCondensed
bold_font InputMonoCondensed Bold
italic_font InputMonoCondensed Italic
bold_italic_font InputMonoCondensed BoldIta
font_size 9.0

disable_ligatures cursor

window_padding_width 8 10

background_opacity 1.0

tab_bar_style separator
tab_separator " "
tab_title_template "  {title} "
active_tab_title_template "{fmt.bold}  {title} {fmt.nobold}"
tab_bar_background none
active_tab_font_style = italic
inactive_tab_font_style = italic

#
# BEHAVIOR
#

term xterm-kitty
linux_display_server wayland
allow_remote_control yes
listen_on unix:@mykitty

wheel_scroll_multiplier 10.0
touch_scroll_multiplier 2.0
scrollback_pager_history_size 2.0 

enable_audio_bell no
mouse_hide_wait -1
focus_follows_mouse yes

url_style single
strip_trailing_spaces smart
select_by_word_characters @-./_~?&=%+#

editor nvim

#
# MAPS
#

# Mouse actions

mouse_map left click ungrabbed mouse_click_url_or_select

# Layout management

map kitty_mod+w>o next_layout
map kitty_mod+w>i last_used_layout
map kitty_mod+w>a layout_action increase_num_full_size_windows
map kitty_mod+w>x layout_action decrease_num_full_size_windows
map kitty_mod+w>] layout_action increase_num_full_size_windows
map kitty_mod+w>[ layout_action decrease_num_full_size_windows

map kitty_mod+w>kitty_mod+o layout_action next_layout
map kitty_mod+w>kitty_mod+i layout_action last_used_layout
map kitty_mod+w>kitty_mod+a layout_action increase_num_full_size_windows
map kitty_mod+w>kitty_mod+x layout_action decrease_num_full_size_windows
map kitty_mod+w>kitty_mod+] layout_action increase_num_full_size_windows
map kitty_mod+w>kitty_mod+[ layout_action decrease_num_full_size_windows

# Window management

# Vim mappings
map kitty_mod+enter new_window_with_cwd
map kitty_mod+h neighboring_window left
map kitty_mod+j neighboring_window bottom
map kitty_mod+k neighboring_window top
map kitty_mod+l neighboring_window right

# W prefix key
map kitty_mod+w>w nth_window -1
map kitty_mod+w>n new_window_with_cwd
map kitty_mod+w>N new_window_with_cwd
map kitty_mod+w>s launch --cwd=current --location=hsplit
map kitty_mod+w>v launch --cwd=current --location=vsplit
map kitty_mod+w>h neighboring_window left
map kitty_mod+w>j neighboring_window bottom
map kitty_mod+w>k neighboring_window top
map kitty_mod+w>l neighboring_window right
map kitty_mod+w>< narrower 20 
map kitty_mod+w>> wider 20
map kitty_mod+w>+ taller 20 
map kitty_mod+w>< shorter 20 
map kitty_mod+w>= reset_window_sizes
map kitty_mod+w>r start_resizing_window
map kitty_mod+w>c close_window
map kitty_mod+w>q close_window

# W prefix key held
map kitty_mod+w>kitty_mod+w nth_window -1
map kitty_mod+w>kitty_mod+n new_window_with_cwd
map kitty_mod+w>kitty_mod+N new_window_with_cwd
map kitty_mod+w>kitty_mod+s launch --cwd current --location hsplit
map kitty_mod+w>kitty_mod+v launch --cwd current --location vsplit
map kitty_mod+w>kitty_mod+h neighboring_window left
map kitty_mod+w>kitty_mod+j neighboring_window bottom
map kitty_mod+w>kitty_mod+k neighboring_window top
map kitty_mod+w>kitty_mod+l neighboring_window right
map kitty_mod+w>kitty_mod+< narrower 20 
map kitty_mod+w>kitty_mod+> wider 20
map kitty_mod+w>kitty_mod++ taller 20 
map kitty_mod+w>kitty_mod+< shorter 20 
map kitty_mod+w>kitty_mod+= reset_window_sizes
map kitty_mod+w>kitty_mod+r start_resizing_window
map kitty_mod+w>kitty_mod+c close_window
map kitty_mod+w>kitty_mod+q close_window

# Seamless nvim <-> kitty navigation
map ctrl+h kitten pass_keys.py neighboring_window left ctrl+h
map ctrl+j kitten pass_keys.py neighboring_window bottom ctrl+j
map ctrl+k kitten pass_keys.py neighboring_window top ctrl+k
map ctrl+l kitten pass_keys.py neighboring_window right ctrl+l

# Scrolling

map kitty_mod+u scroll_page_up
map kitty_mod+d scroll_page_down

#
# Remapping overlapping defaults from kitty_mod+key to kitty_mod+alt+key
#

map kitty_mod+alt+h show_scrollback

#
# Vim modifier maps
#

map ctrl+enter send_text all \x1b[13;5u
map shift+enter send_text all \x1b[13;2u
map ctrl+shift+enter send_text all \x1b[13;6u
map ctrl+backspace send_text all \x1b[127;5u

# vim:ft=kitty
