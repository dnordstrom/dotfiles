#!/usr/bin/env sh
#
# RIVER WM STARTUP
#
# Sets up the environment before launching River.
##

# Script paths organized and prefixed by category: `nix/nix-preview`, `launch/launch-app`, etc.
for directory in ~/.scripts/*; do
  export PATH="$PATH:$directory"
done

# Firefox
export MOZ_DBUS_REMOTE=1
export MOZ_USE_XINPUT2=1

# GTK
export GTK_THEME="Catppuccin-yellow"
export GTK_USE_PORTAL=1

# Qt
export QT_QPA_PLATFORM="wayland"
export QT_QPA_PLATFORMTHEME="qt5ct"
export QT_WAYLAND_DISABLE_WINDOWDECORATION=1

# River
export GDK_BACKEND="wayland"
export SDL_VIDEODRIVER="wayland"
export XDG_CURRENT_DESKTOP="Unity"
export XDG_SESSION_DESKTOP="river"
export XDG_SESSION_TYPE="wayland"

# Java
export _JAVA_AWT_WM_NONREPARENTING=1

# Keyboard
export XKB_DEFAULT_LAYOUT="us,se"
export XKB_DEFAULT_OPTIONS="shift:both_capslock,grp:ctrls_toggle,lv3:ralt_switch_multikey"

# Start
river 2>"$HOME/.local/share/logs/river.log" 2>&1
